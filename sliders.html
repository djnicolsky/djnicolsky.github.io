<!DOCTYPE html>
<html>
<body style="margin: 0px; background: black">

<div style="float:left" id='my-gui-container'></div>

	<script src="three/js/libs/dat.gui.min.js"></script>
	<script src="scripts/sprintf.js"></script>
	<script>


			function pauseSimulation(){
				parent.opener.AnimationState = !parent.opener.AnimationState;
				if(parent.opener.AnimationState){
					item.name('Pause');
					parent.opener.item.name('Pause');
				}
				else{
					item.name('Continue');
					parent.opener.item.name('Continue');
				}
			}


			var gui = new dat.GUI({ "autoPlace": false, "width": 300 });

			var customContainer = document.getElementById('my-gui-container');
			customContainer.appendChild(gui.domElement);

				for(var i=0; i<parent.opener.NSliders; i++){
					var tmp_name=parent.opener.ModelSetup('Slider'+i,'Name',parent.opener.ModelSliders);
					var tmp_parm=parent.opener.ModelSetup('Slider'+i,'Parameter',parent.opener.ModelSliders);
					var tmp_min=parseFloat(parent.opener.ModelSetup('Slider'+i,'Min',parent.opener.ModelSliders));
					var tmp_max=parseFloat(parent.opener.ModelSetup('Slider'+i,'Max',parent.opener.ModelSliders));
					var tmp_dlt=parseFloat(parent.opener.ModelSetup('Slider'+i,'Delta',parent.opener.ModelSliders));

					for(var j=0; j<parent.opener.ListParticles.length; j++)
						if(parent.opener.ListParticles[j].label == tmp_name)
							gui.add(parent.opener.ListParticles[j], tmp_parm, tmp_min, tmp_max, tmp_dlt).name(parent.opener.ListParticles[j].label+":"+tmp_parm).onChange(
								function(value) {
									this.object.syncValues(); 
									if((this.property != 'M0')&&(this.property != 'Q'))
										parent.opener.restartAllParticles(); 
							});
				}

				var buttonPause = {Pause: function() {pauseSimulation();}};
				item=gui.add( buttonPause, 'Pause' );

				var buttonRestart = {Restart: function() {parent.opener.restartAllParticles();}};
				gui.add( buttonRestart, 'Restart' );


			window.resizeTo(300+(window.outerWidth - document.documentElement.clientWidth), (parent.opener.NSliders+2)*20+2*(window.outerHeight - document.documentElement.clientHeight)); 
			//gui.domElement.style.width=window.innerWidth+'px';
	</script>

	


</body>
</html>
